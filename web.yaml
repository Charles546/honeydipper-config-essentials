---
# Driver: Essentials.Drivers.web
#
#   making outbound web requests
#
#   Prereq:
#     * include the essentials bundle from this repo
#
#   Integration:
#     Config the driver in the `drivers` section with following parameters.
#
#     * loglevel: the verbosity of logs generated by this driver, DEBUG, INFO, WARNING, ERROR
#
#   Example:
#     +---------------------------
#     | ---
#     | drivers:
#     |   web:
#     |     loglevel: DEBUG
#     +---------------------------
#
drivers:
  daemon:
    features:
      operator:
        - name: "driver:web"
    drivers:
      web:
        name: web
        type: builtin
        handlerData:
          shortName: web

# RawAction: request
#
#   making outbound web requests
#
#   Parameters:
#
#     * URL: the url the request is sent to (required)
#     * method: http method, defaults to `GET`
#     * header: a map of k/v pair to be used as headers, the "Content-Type" header determines how
#               the body will be handled
#     * form: the query parameters used in URL for GET, or in the body for POST/PUT
#     * content: override the `form` to provide raw content of the body for POST/PUT,
#                can be `string`, `map`
#
#   Return:
#
#     If used in `workflow`, you can access the return data through `interpolation`.
#
#     * .data.status_code: the return status code
#     * .data.cookies: the cookies
#     * .data.headers: the headers
#     * .data.body: body as string
#     * .data.json: if the content-type is set to `application/json`, this will be parsed data structure
#
#   Example:
#     +---------------------------
#     | ---
#     | rules:
#     |   - when:
#     |       ...
#     |     do:
#     |       type: function
#     |       content:
#     |         driver: web
#     |         rawAction: request
#     |         parameters:
#     |           URL: http://www.example.com
#     |           header:
#     |             Authorization: "Bearer xxxxxxxxxxxxxxx"
#     |             "content-type": "application/json"
#     |           content:
#     |             field1: value1
#     +---------------------------
#
